#!/bin/sh
#
# Pre-commit hook: Run static analysis checks
# Enforces Checkstyle and PMD rules before allowing commits
#
# ‚ö†Ô∏è  BYPASSING THIS HOOK IS NOT ALLOWED
# ‚ö†Ô∏è  Fix violations instead of using --no-verify

echo "üîç Running static analysis checks..."

# Run Checkstyle and PMD
mvn checkstyle:check pmd:check -q

RESULT=$?

if [ $RESULT -ne 0 ]; then
    echo ""
    echo "‚ùå Static analysis failed!"
    echo ""
    echo "‚ö†Ô∏è  Fix violations before committing."
    echo "‚ö†Ô∏è  Bypassing this hook is not permitted."
    exit 1
fi

echo "‚úÖ Static analysis passed!"
exit 0
